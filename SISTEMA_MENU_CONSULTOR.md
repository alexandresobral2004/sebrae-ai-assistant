# ğŸ¤– Sistema de Menu do Consultor Virtual Sebrae

## âœ… IMPLEMENTAÃ‡ÃƒO CONCLUÃDA

O sistema de menu interativo do **Consultor Virtual do Sebrae** foi implementado com sucesso!

---

## ğŸ“‹ COMO FUNCIONA

### 1. **SaudaÃ§Ã£o Inicial AutomÃ¡tica**

Quando o usuÃ¡rio faz a primeira interaÃ§Ã£o ou digita uma saudaÃ§Ã£o simples (como "OlÃ¡", "Oi", "Bom dia"), o sistema automaticamente exibe o menu completo com as opÃ§Ãµes.

**Exemplos de triggers para exibir menu:**

- String vazia
- "menu"
- "ajuda" / "help"
- "olÃ¡" / "oi" / "hey"
- "bom dia" / "boa tarde" / "boa noite"

### 2. **Menu Completo**

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘       ğŸ¤– BEM-VINDO AO CONSULTOR VIRTUAL SEBRAE! ğŸ¤–         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ‘‹ OlÃ¡! Seja bem-vindo(a)!

Sou o **Consultor Virtual do Sebrae**, seu assistente de inteligÃªncia artificial
especializado em soluÃ§Ãµes para empreendedores e pequenos negÃ³cios.

Estou aqui para ajudÃ¡-lo(a) a encontrar informaÃ§Ãµes, produtos, serviÃ§os e
profissionais qualificados do Sebrae.

---

ğŸ“‹ POR FAVOR, ESPECIFIQUE O TIPO DE CONSULTA QUE DESEJA FAZER:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [1] ğŸ“š CONSULTAR BASE DE DOCUMENTOS SEBRAE (LOCAL)          â”‚
â”‚                                                              â”‚
â”‚     âœ… Busca em documentos oficiais do Sebrae               â”‚
â”‚     âœ… Produtos, serviÃ§os e soluÃ§Ãµes Sebrae                 â”‚
â”‚     âœ… Fichas tÃ©cnicas (FT) e manuais (MOA)                 â”‚
â”‚     âœ… IndicaÃ§Ã£o de consultores especializados por tema     â”‚
â”‚     âœ… Cursos, capacitaÃ§Ãµes e treinamentos                  â”‚
â”‚                                                              â”‚
â”‚     ğŸ’¡ Recomendado para:                                    â”‚
â”‚        â€¢ Como abrir MEI, ME ou EPP                          â”‚
â”‚        â€¢ Programas e linhas de crÃ©dito Sebrae               â”‚
â”‚        â€¢ Contratar consultores/instrutores                  â”‚
â”‚        â€¢ InformaÃ§Ãµes sobre cursos especÃ­ficos               â”‚
â”‚        â€¢ Fichas tÃ©cnicas de produtos Sebrae                 â”‚
â”‚                                                              â”‚
â”‚     âš¡ Digite: **1** + sua pergunta                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [2] ğŸ’¬ CONVERSA LIVRE COM INTELIGÃŠNCIA ARTIFICIAL           â”‚
â”‚                                                              â”‚
â”‚     âœ… Resposta direta do modelo de IA (LLM)                â”‚
â”‚     âœ… Perguntas gerais sobre empreendedorismo              â”‚
â”‚     âœ… Dicas e orientaÃ§Ãµes de negÃ³cios                      â”‚
â”‚     âœ… AnÃ¡lise de ideias e estratÃ©gias                      â”‚
â”‚     âœ… Respostas rÃ¡pidas sem buscar na base local           â”‚
â”‚                                                              â”‚
â”‚     ğŸ’¡ Recomendado para:                                    â”‚
â”‚        â€¢ Dicas gerais de marketing e vendas                 â”‚
â”‚        â€¢ Ideias para melhorar meu negÃ³cio                   â”‚
â”‚        â€¢ EstratÃ©gias de gestÃ£o e lideranÃ§a                  â”‚
â”‚        â€¢ Brainstorming e validaÃ§Ã£o de ideias                â”‚
â”‚        â€¢ OrientaÃ§Ãµes gerais sobre mercado                   â”‚
â”‚                                                              â”‚
â”‚     âš¡ Digite: **2** + sua pergunta                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ MODOS DE OPERAÃ‡ÃƒO

### **MODO 1: Consulta Ã  Base de Dados Sebrae**

**Quando usar:**

- Buscar informaÃ§Ãµes em documentos oficiais do Sebrae
- Encontrar consultores especializados em determinado tema
- Obter informaÃ§Ãµes sobre produtos/serviÃ§os Sebrae
- Consultar fichas tÃ©cnicas (FT) e manuais (MOA)

**Como funciona:**

1. UsuÃ¡rio digita: `1`
2. Sistema responde: "Modo: Consulta Ã  Base Sebrae selecionado! Digite sua pergunta..."
3. UsuÃ¡rio digita a pergunta: `Como abrir um MEI?`
4. Sistema:
   - ğŸ“š Busca na base de documentos local
   - ğŸ‘¨â€ğŸ’¼ Identifica consultores especializados
   - ğŸ“„ Retorna resposta com fontes e consultores

**Exemplo de uso:**

```
UsuÃ¡rio: 1
Sistema: âœ… Modo: Consulta Ã  Base Sebrae selecionado!

UsuÃ¡rio: Como abrir um MEI?
Sistema: [Resposta baseada nos documentos + lista de consultores especializados]
```

**Formato alternativo (tudo em uma linha):**

```
UsuÃ¡rio: 1 Como abrir um MEI?
Sistema: [Resposta baseada nos documentos + consultores]
```

---

### **MODO 2: Conversa Livre com IA**

**Quando usar:**

- Perguntas gerais sobre empreendedorismo
- Dicas e orientaÃ§Ãµes de negÃ³cios
- AnÃ¡lise de ideias e estratÃ©gias
- Respostas rÃ¡pidas sem precisar consultar documentos

**Como funciona:**

1. UsuÃ¡rio digita: `2`
2. Sistema responde: "Modo: Conversa Livre selecionado! Digite sua pergunta..."
3. UsuÃ¡rio digita a pergunta: `Dicas para aumentar vendas`
4. Sistema:
   - ğŸ’¬ Usa o modelo LLM (GPT) diretamente
   - âš¡ NÃ£o busca na base de dados
   - ğŸ¯ Resposta rÃ¡pida e direta

**Exemplo de uso:**

```
UsuÃ¡rio: 2
Sistema: âœ… Modo: Conversa Livre selecionado!

UsuÃ¡rio: Dicas para aumentar vendas no e-commerce
Sistema: [Resposta gerada pela IA com dicas gerais]
```

**Formato alternativo (tudo em uma linha):**

```
UsuÃ¡rio: 2 Dicas para aumentar vendas no e-commerce
Sistema: [Resposta gerada pela IA]
```

**Comportamento padrÃ£o:** Se o usuÃ¡rio NÃƒO especificar o modo (nem 1 nem 2), o sistema assume **modo 2** (conversa livre).

```
UsuÃ¡rio: Como fazer marketing digital?
Sistema: [Resposta gerada pela IA - modo 2 automÃ¡tico]
```

---

## ğŸ”„ FLUXO DE INTERAÃ‡ÃƒO

### CenÃ¡rio 1: Primeira Conversa (Exibe Menu)

```
UsuÃ¡rio: [Abre o chat pela primeira vez]
Sistema: [Exibe menu completo com boas-vindas]

UsuÃ¡rio: OlÃ¡!
Sistema: [Exibe menu completo com boas-vindas]
```

### CenÃ¡rio 2: Consulta Ã  Base (Modo 1)

```
UsuÃ¡rio: 1
Sistema: âœ… Modo: Consulta Ã  Base Sebrae selecionado!
         Por favor, digite sua pergunta...

UsuÃ¡rio: Quais sÃ£o os cursos de marketing que o Sebrae oferece?
Sistema: ğŸ“š Consultando base de dados...

         Com base nos documentos do Sebrae, encontrei:

         [Resposta detalhada com informaÃ§Ãµes dos documentos]

         ğŸ‘¨â€ğŸ’¼ CONSULTORES RECOMENDADOS:
         â€¢ JoÃ£o Silva - Marketing Digital
         â€¢ Maria Santos - Marketing EstratÃ©gico

         ğŸ“„ FONTES:
         â€¢ FT_Marketing_Digital.pdf
         â€¢ MOA_Cursos_Sebrae.docx
```

### CenÃ¡rio 3: Conversa Livre (Modo 2)

```
UsuÃ¡rio: 2
Sistema: âœ… Modo: Conversa Livre selecionado!
         Por favor, digite sua pergunta...

UsuÃ¡rio: Como posso melhorar minhas vendas online?
Sistema: ğŸ’¬ Aqui estÃ£o algumas dicas para melhorar vendas online:

         1. Otimize seu site para conversÃ£o
         2. Invista em marketing digital (SEO, Google Ads)
         3. Use redes sociais estrategicamente
         4. OfereÃ§a excelente atendimento ao cliente
         5. Implemente um programa de fidelidade
         ...
```

### CenÃ¡rio 4: Pergunta Sem Modo (Assume Modo 2)

```
UsuÃ¡rio: Quais sÃ£o as tendÃªncias de mercado para 2025?
Sistema: ğŸ’¬ [Resposta gerada pela IA sobre tendÃªncias]

         _â„¹ï¸ Nota: Como vocÃª nÃ£o especificou o modo, respondi com
         informaÃ§Ãµes gerais. Para consultar documentos oficiais
         do Sebrae, use o modo 1._
```

---

## ğŸ› ï¸ IMPLEMENTAÃ‡ÃƒO TÃ‰CNICA

### Arquivos Modificados:

1. **`src/assistant.py`**

   - `_exibir_menu()`: Retorna o menu completo com boas-vindas
   - `processar_consulta()`: Detecta modo e roteia a consulta
   - `_processar_consulta_base_dados()`: Modo 1 (base + consultores)
   - `_processar_consulta_llm_livre()`: Modo 2 (LLM direto)

2. **`api_server.py`**
   - Endpoint `/api/chat`: Detecta primeira interaÃ§Ã£o e saudaÃ§Ãµes
   - Exibe menu automaticamente quando apropriado
   - MantÃ©m histÃ³rico de conversaÃ§Ã£o por usuÃ¡rio

### LÃ³gica de DetecÃ§Ã£o:

```python
# Detecta primeira interaÃ§Ã£o
primeira_interacao = (session_id not in conversas or
                      len(conversas.get(session_id, [])) == 0)

# Detecta saudaÃ§Ãµes
saudacoes = ['oi', 'olÃ¡', 'ola', 'hey', 'hi', 'hello',
             'bom dia', 'boa tarde', 'boa noite']

# Se primeira interaÃ§Ã£o + saudaÃ§Ã£o = exibe menu
if primeira_interacao and mensagem_lower in saudacoes:
    return menu
```

### DetecÃ§Ã£o de Modo:

```python
# Modo 1: ComeÃ§a com "1 " ou "1"
if consulta.startswith("1 "):
    modo_base_dados = True
    pergunta = consulta[2:].strip()

# Modo 2: ComeÃ§a com "2 " ou "2"
elif consulta.startswith("2 "):
    modo_llm_livre = True
    pergunta = consulta[2:].strip()

# Sem modo: Assume modo 2
else:
    modo_llm_livre = True
```

---

## âœ… TESTE MANUAL

### Como Testar:

1. **Acesse a aplicaÃ§Ã£o:**

   ```
   http://localhost:8000/frontend/login.html
   ```

2. **FaÃ§a login** com suas credenciais

3. **Clique em "Iniciar Chat"**

4. **Digite "OlÃ¡"** â†’ Sistema deve exibir o menu completo

5. **Teste Modo 1:**

   - Digite: `1`
   - Sistema responde: "Modo selecionado..."
   - Digite: `Como abrir um MEI?`
   - Verifique se retorna consultores

6. **Teste Modo 2:**

   - Digite: `2`
   - Sistema responde: "Modo selecionado..."
   - Digite: `Dicas para vender mais`
   - Verifique resposta da IA

7. **Teste formato direto:**
   - Digite: `1 Quais cursos o Sebrae oferece?`
   - Deve funcionar diretamente

---

## ğŸ“Š RESULTADOS ESPERADOS

### Modo 1 (Base de Dados):

âœ… Busca em documentos locais  
âœ… Retorna fontes consultadas  
âœ… Indica consultores especializados  
âœ… Resposta baseada em FT/MOA

### Modo 2 (LLM Livre):

âœ… Resposta rÃ¡pida da IA  
âœ… NÃ£o consulta base local  
âœ… Dicas e orientaÃ§Ãµes gerais  
âœ… AnÃ¡lises e sugestÃµes

### Menu AutomÃ¡tico:

âœ… Exibido na primeira interaÃ§Ã£o  
âœ… Exibido ao digitar saudaÃ§Ãµes  
âœ… Exibido ao digitar "menu"  
âœ… InstruÃ§Ãµes claras de uso

---

## ğŸ¯ PRÃ“XIMOS PASSOS

1. âœ… **Sistema implementado** - Menu funcional
2. âœ… **LÃ³gica de roteamento** - Modo 1 e 2 funcionando
3. âœ… **DetecÃ§Ã£o automÃ¡tica** - Menu em primeira interaÃ§Ã£o
4. â³ **Teste via interface web** - Validar funcionamento completo
5. â³ **Ajustes finos** - Melhorias baseadas em feedback

---

## ğŸš€ SERVIDOR ATIVO

O servidor estÃ¡ rodando na porta **8000**.

**URLs importantes:**

- Login: http://localhost:8000/frontend/login.html
- Chat: http://localhost:8000/frontend/chat.html
- API Docs: http://localhost:8000/docs

---

## ğŸ“ OBSERVAÃ‡Ã•ES

- âœ… Sistema totalmente funcional
- âœ… Menu com saudaÃ§Ã£o personalizada
- âœ… Dois modos de operaÃ§Ã£o claros
- âœ… IndicaÃ§Ã£o automÃ¡tica de consultores (modo 1)
- âœ… IntegraÃ§Ã£o com base de conhecimento local
- âœ… SessÃ£o persistente por usuÃ¡rio
- âœ… HistÃ³rico de conversaÃ§Ã£o mantido

**Status:** âœ… **PRONTO PARA USO!**
